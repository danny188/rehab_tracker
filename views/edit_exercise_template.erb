<div class="row">
  <h2 class="col-5">Exercise Template Details</h2>


</div>


<hr/>

<div class="row"></div>
<div class="row"></div>

<div class="row">

  <div class="col-6">
    <form action="/exercise_library/<%= @template.name %>/edit" method="post">
      <div class="form-group row">
        <label for="new_template_name" class="col-3 col-form-label"><b>Name of Exercise</b></label>
        <input type="text" class="form-control col-6" id="new_template_name" name="new_template_name" value="<%= @template.name %>">
      </div>
      <div class="form-group row">
        <label for="reps" class="col-3 col-form-label"><b>Repetitions</b></label>
        <input name="reps" list="reps" class="col-2 form-control" value="<%= @template.reps %>">
        <datalist id="reps">
         <option value="5"></option>
         <option value="10"></option>
         <option value="20"></option>
         <option value="30"></option>
         <option value="40"></option>
         <option value="50"></option>
         <option value="100"></option>
       </datalist>

       <label for="reps" class="col-1 offset-1 col-form-label"><b>Sets</b></label>
       <input name="sets" list="sets" class="col-2 form-control" value="<%= @template.sets %>">
       <datalist id="sets">
         <option value="1"></option>
         <option value="2"></option>
         <option value="3"></option>
         <option value="4"></option>
         <option value="5"></option>
       </datalist>
     </div>
     <div class="form-group row">
      <label for="instructions" class="col-3 col-form-label"><b>Instructions</b></label>
      <textarea class="form-control col-8" id="instructions" name="instructions" rows="3"><%= @template.instructions %></textarea>
    </div>

    <div class="row">

      <label class="col-3 col-form-label" id="empty-label"></label>
      <div class="col-8">
        <div class="row">
          <div class="col mx-1 px-0">
            <div class="form-group">

              <button type="submit" class="ml-0 btn btn-outline-primary form-control">Save</button>

            </form>
          </div>
        </div>
        <div class="col mx-1 px-0">
          <% if params[:pt] %>
          <a href="/users/<%= params[:pt] %>/exercises/add_from_library" class="btn btn-outline-secondary form-control">Back to Library</a>
          <% else %>
          <a href="/exercise_library" class="btn btn-outline-secondary form-control">Back to Library</a>
          <% end %>

        </div>

        <div class="col mx-1 px-0">

          <form action="/exercise_library/<%= @template.name %>/delete" method="post" onsubmit="return confirm('Are you sure you want to delete this exercise template? This cannot be reversed. Click OK to proceed.');">
            <button type="submit" class="btn btn-outline-danger form-control">Delete</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <label class="col-3 col-form-label"></label>

  <!-- success/error messages -->

  <% if session[:success] %>
  <div class="offset-3 col-8 alert alert-success fade show text-center" role="alert"><%= session.delete(:success) %></div>
  <% end %>

  <% if session[:error] %>
  <div class="offset-3 col-8 alert alert-danger fade show text-center" role="alert">
    <%= session.delete(:error) %>
  </div>
  <% end %>



</div>

<!-- exercise images section -->
<div class="col-6">
  <form class="form-group row mb-4" action="/exercise_library/<%= @template.name %>/upload_file" id="upload_form" method="post" enctype="multipart/form-data">
    <label for="patient_comment" class="col-5 col-form-label  "><b>Upload Exercise Images</b></label>
    <input type="file" id="chosen_file" accept="image/*" name="images[]" multiple />
    <input type="submit" value="Upload"/>
  </form>

  <div class="row row-cols-1 row-cols-md-2">
    <% @template.image_links.each do |image_link| %>
    <div class="col mb-4">
      <div class="card text-center">
        <form class="form-inline" method="post" action="/exercise_library/<%= @template.name %>/delete_file" onsubmit="return confirm('Are you sure you want to delete the selected file? This cannot be undone. Click OK to proceed.')">
          <img src="<%= image_link %>" class="card-img-top" alt="...">
          <input type="hidden" name="file_path" value="<%= image_link %>">
          <div class="card-body">
            <h5 class="card-title"><%= File.basename(image_link) %></h5>
            <a href="<%= image_link %>" class="btn btn-outline-dark">View Image</a>

            <button type="submit" class="btn btn-outline-danger">Delete</button>
            </div>
          </form>

        </div>
      </div>
      <% end %>
    </div>
  </div>

</div>





<!-- test area below -->
<!--
<div class="row">
  <div class="col-4 offset-md-8">
    <div class="alert alert-success fade show alert-dismissible" role="alert">
      This is a success alertâ€”check it out!
    </div>
  </div>
</div>

<form action="/upload" id="upload_form" method="post" enctype="multipart/form-data">
  <input type="file" id="file_upload" accept="image/*" name="images[]" multiple />
  <input type="submit" value="Upload"/>
</form>

<div id="demo">
  <h2>Let AJAX change this text</h2>
  <button type="button" onclick="loadDoc()">Change Content</button>
</div>
 -->